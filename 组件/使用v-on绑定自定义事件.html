<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>v-on</title>
	<script src="https://cdn.jsdelivr.net/npm/vue"></script>
</head>
<body>
	<div id="counter-event-example">
  		<p>{{ total }}</p>
  		<button-counter v-on:increment="incrementTotal"></button-counter>
  		<button-counter v-on:increment="incrementTotal"></button-counter>
	</div>
</body>
</html>
<script>
	Vue.component('button-counter', {
  		template: '<button v-on:click="incrementCounter">{{ counter }}</button>',
  	data: function () {
    	return {
      		counter: 0
    	}
  	},
  	 methods: {
    	incrementCounter: function () {
     		this.counter += 1
      		this.$emit('increment') //触发事件
    	}
  	  },
	})

	new Vue({
  		el: '#counter-event-example',
  		data: {
    		total: 0
  			},
  		methods: {
    		incrementTotal: function () {
      			this.total += 1
    		}
     	}
	})
	//不能用 $on 监听子组件释放的事件，而必须在模板里直接用v-on绑定
</script>